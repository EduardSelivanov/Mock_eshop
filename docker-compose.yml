services: 

 elasticsearch:
  image: docker.elastic.co/elasticsearch/elasticsearch:8.17.1
  container_name: warehouseelastic
  ports:
  - 9200:9200
  volumes:
   - elasticsearch-data:/usr/share/elasticsearch/data
  environment:
   - xpack.security.enabled=false
   - discovery.type=single-node 
  networks:
   - warehousemicroservices

 kibana:
  container_name: warehousekibana
  image: docker.elastic.co/kibana/kibana:8.17.1
  ports:
   - 5601:5601
  depends_on: 
   - elasticsearch 
  environment:
   - ELASTICSEARCH_URL=http://localhost:9200
  networks:
   - warehousemicroservices

 catalogbd:
  image: postgres
  container_name: catalogdb
  environment:
    - POSTGRES_USER=postgres
    - POSTGRES_PASSWORD=postgres
    - POSTGRES_DB=CatalogDb
  restart: always
  ports:
  - "5433:5432"
  volumes:
   - postgres-catalog:/var/lib/postgresql/data/
   
networks:
 warehousemicroservices:
  driver: bridge

volumes:
 postgres_catalog:
 elasticsearch-data: